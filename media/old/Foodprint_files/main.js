var Hn=Object.defineProperty;var Bn=(t,e,n)=>e in t?Hn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var tn=(t,e,n)=>(Bn(t,typeof e!="symbol"?e+"":e,n),n);import{c as $,a as Vn,b as M,d as l,m as he,D as Gn,t as c,o as j,M as Qn,e as ie,s as nn,i as a,S as k,f as P,F as Y,g as Yn,h as W,j as ut,k as rn,l as re,n as Wn,p as sn,q as Xn,r as Zn,u as on,v as Jn,w as ei,_ as w,x as D,y as an,z as ti}from"./vendor.1ee8ff06.js";const ni=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerpolicy&&(s.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?s.credentials="include":r.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}};ni();function*ln(...t){const e=Math.min(...t.map(n=>n.length));for(let n=0;n<e;n+=1)yield[...t.map(i=>i[n])]}function ii(t,e=(n,i)=>n<i){let n;for(const i of t)(n===void 0||e(i,n))&&(n=i);return n}function _t(t,e){const n=new Set(t);for(const i of e)n.delete(i);return n}function ri(t,e,n,i,r="Sets did not match"){const s=_t(t,n),o=_t(n,t);if(s.size>0||o.size>0)throw s.size>0&&console.error(`In ${e} but not in ${i}:`,s),o.size>0&&console.error(`In ${i} but not in ${e}:`,o),new Error(r)}function F(t,e){if(!t)throw new Error(e!=null?e:"Assertion was false")}class ht{constructor(e){[this.get,this.set]=$(e)}get getter(){return()=>this.get()}get setter(){return e=>this.set(e)}}const ft=Symbol("match_string"),mt=Symbol("match_integer"),gt=Symbol("match_boolean"),X=Symbol("index"),bt=Symbol("not_found"),Pe=Symbol("sentry");function v(t=si){return new pt(t)}v.string=ft;v.integer=mt;v.boolean=gt;v.index=X;v.sentry=Pe;v.not_found=bt;v.redirect=t=>new pt({can_activate(){return!0},activate(e,n,i){return e.navigate_route(t,void 0,void 0,{replace:!0}),Fe}});v.tracker=()=>new li;const Fe={can_deactivate:()=>!0,deactivate:()=>{}},si={can_activate:(t,e,n)=>!0,activate:(t,e,n)=>Fe};function oi(t){return(e,n,i)=>{const r=new Set(i.keys()),s=_t(t,r);return s.size>0?(console.warn(`Parameters ${[...s].join(", ")} were not given`),!1):!0}}var cn;(function(t){t[t.Success=0]="Success",t[t.NoNavigation=1]="NoNavigation",t[t.Blocked=2]="Blocked"})(cn||(cn={}));function ai(t,e){let n=0;return t.map(i=>typeof i=="symbol"?e[n++]:i)}class pt{constructor(e){this.activator=e,this.route_path=[],[this.is_active,this.set_active]=$(!1)}can_activate(e,n,i){return this.activator.can_activate(e,n,i)}activate(e,n,i){this.set_active(!0);const r=this.activator.activate(e,n,i),s=this;return{can_deactivate(){return r.can_deactivate()},deactivate(){s.set_active(!1),r.deactivate()}}}}class li{constructor(){[this.is_active,this.set_active]=$(!1)}can_activate(e,n){return!0}activate(e,n){this.set_active(!0);const i=this;return{can_deactivate(){return!0},deactivate(){i.set_active(!1)}}}}class ci{constructor(e){this.config=e,this.on_not_found=()=>{},this.state=[],this.registered_in_browser=!1,this.navigating_depth=0,bt in e&&(this.on_not_found=e[bt]),this.annotate_route(e,[])}annotate_route(e,n){if(e instanceof pt){e.route_path=n.slice();return}X in e&&(e[X].route_path=n.slice());for(const[i,r]of Object.entries(e))this.annotate_route(r,[...n,i]);for(const i of Object.getOwnPropertySymbols(e))i!==X&&i!==Pe&&this.annotate_route(e[i],[...n,i])}navigate_path(e,n){try{const{annotated_path:i,search_params:r}=this.parse_url(e);return this.navigate(i,r,n)}catch(i){return this.handle_error(i)}}navigate_route(e,n,i,r){try{const s=ai(e.route_path,n!=null?n:[]),o=this.annotate_path(s);return this.navigate(o,i!=null?i:new URLSearchParams,r)}catch(s){return this.handle_error(s)}}navigate(e,n,i){var o;this.navigating_depth++;const r=this.navigating_depth,s=this.load_path(e,n);if(this.navigating_depth===r){const u=e.slice(0,-1).map(_=>_.fragment.toString()).join("/")||"/";s===0&&this.registered_in_browser&&this.set_history(u,n,(o=i==null?void 0:i.replace)!=null?o:!1)}return r===1&&(this.navigating_depth=0),s}handle_error(e){return this.on_not_found(),1}set_search_params_signal(e){this.dispose_search_params_signal!==void 0&&this.dispose_search_params_signal(),Vn(n=>{this.dispose_search_params_signal=n,this.current_search_params_signal=new ht(e),M(()=>{const i=this.current_search_params_signal.get();this.state_search_params!==i.toString()&&(this.set_history(window.location.pathname,i),this.state_search_params=i.toString())})})}register_in_browser(){F(!this.registered_in_browser,"already registered"),window.addEventListener("popstate",e=>{e.preventDefault();try{const{annotated_path:n,search_params:i}=this.parse_url(window.location.pathname+window.location.search),r=this.load_path(n,i)}catch(n){return this.handle_error(n)}}),this.registered_in_browser=!0,this.navigate_path(window.location.pathname+window.location.search)}set_history(e,n,i=!1){const r=n==null?void 0:n.toString(),s=e+(r?"?"+r:"");i?window.history.replaceState(null,"",s):window.history.pushState(null,"",s)}parse_url(e){var u;const[n,i]=e.split("?"),r=(u=i==null?void 0:i.split("#"))==null?void 0:u[0],s=n.split("/").filter(_=>_!==""),o=new URLSearchParams(r);return{annotated_path:this.annotate_path(s),search_params:o}}annotate_path(e){let n=this.config,i=[{fragment:"",config:n,path_params:[]}],r=[];for(const s of e)if(typeof s=="string"&&s in n)n=n[s],i.push({fragment:s,config:n,path_params:r.slice()});else{let o,u;if(gt in n&&(typeof s=="boolean"||s==="true"||s==="false"))o=typeof s=="boolean"?s:s==="true",u=gt;else if(mt in n&&(Number.isInteger(s)||Number.isInteger(Number(s))))o=Number(s),u=mt;else if(ft in n)o=s,u=ft;else throw new Error(`Couldn't match ${e}, in particular ${s}`);r.push(o),n=n[u],i.push({fragment:o,config:n,path_params:r.slice()})}if(n.activate instanceof Function)i.push({config:n,fragment:X,path_params:r.slice()});else if(X in n)i.push({config:n[X],fragment:X,path_params:r.slice()});else throw new Error(`Path ${e} did not reach a valid end node`);return i}load_path(e,n){var f,m;let i=0;for(const[h,g]of ln(e,this.state)){if(h.fragment!==g.fragment)break;i++}const r=e.slice(i),s=this.state.slice(i).reverse(),o=n.toString()!==this.state_search_params;if(this.state_search_params=n.toString(),r.length===0&&s.length===0)return o?(this.current_search_params_signal.set(n),0):1;if(!r.every((h,g)=>{var b,p;return g===r.length-1?h.config.can_activate(this,h.path_params,n):(p=(b=h.config[Pe])==null?void 0:b.can_activate(this,h.path_params))!=null?p:!0}))return console.warn("Could not activate new path"),2;if(!s.every(h=>h.deactivator.can_deactivate()))return console.warn("Could not deactivate current path"),2;for(const h of s)h.deactivator.deactivate(),this.state.pop();this.set_search_params_signal(n);for(let h=0;h<r.length;h++){let g;const b=r[h];h===r.length-1?g=b.config.activate(this,b.path_params,this.current_search_params_signal):g=(m=(f=b.config[Pe])==null?void 0:f.activate(this,b.path_params))!=null?m:Fe,this.state.push({fragment:b.fragment,deactivator:g})}return 0}}const di=()=>[];class ui{constructor(){[this.activeComponent,this.setActiveComponent]=$({component:di,props:{}})}component_switcher(e,n){var r;const i=this;return{can_activate:oi((r=n==null?void 0:n.required_params)!=null?r:new Set),activate(s,o,u){const _=(n==null?void 0:n.get_props)===void 0?{path_params:o,search_params:u}:n.get_props(o,u);return i.setActiveComponent({component:e,props:_}),Fe}}}component_switcher_without_params(e){return this.component_switcher(e,{get_props:()=>({})})}not_found_component(e){return()=>{console.log("NOT FOUND",e),this.setActiveComponent({component:e,props:{}})}}get_frame(){const e=this;return l(Gn,he({get component(){return e.activeComponent().component}},()=>e.activeComponent().props))}}const _i=c("<p>Not found</p>"),hi=()=>_i.cloneNode(!0),fi=c('<div class="page"><h1>Homepage</h1><p>Welcome to our app. As you can see, it is still heavily being worked on. This app may or may not give wrong data, behave in mysterious ways, or set your device on fire. In particular, do not use this app (yet) for making any health-related decision.</p><p>Any questions, suggestions or remarks can be sent to <a href="mailto:contact@quanteco.org">contact@quanteco.org</a>.</p></div>'),mi=()=>fi.cloneNode(!0),gi=c('<div class="page"><h1>Track</h1></div>'),bi=()=>gi.cloneNode(!0),pi=c('<span class="mdc-tab__icon material-icons" aria-hidden="true"></span>'),vi=c('<span class="mdc-tab__text-label"></span>'),yi=c('<button class="mdc-tab" role="tab"><span class="mdc-tab__content"></span><span class="mdc-tab-indicator"><span class="mdc-tab-indicator__content mdc-tab-indicator__content--underline"></span></span><span class="mdc-tab__ripple"></span></button>');let wi=1;const $i=t=>{let e,n;j(()=>{n=Qn.attachTo(e),t.createdTab(n)}),ie(()=>{n.destroy()});const i=()=>t.settings.tab_layout===se.label_with_top_icon,r=()=>t.settings.tab_layout!==se.only_label,s=()=>t.settings.tab_layout!==se.only_icon;return(()=>{const o=yi.cloneNode(!0),u=o.firstChild,_=u.nextSibling,f=e;return typeof f=="function"?f(o):e=o,nn(o,"id",`solid-mdc-tab-${wi++}`),a(u,l(k,{get when(){return r()},get children(){const m=pi.cloneNode(!0);return a(m,()=>t.icon),m}}),null),a(u,l(k,{get when(){return s()},get children(){const m=vi.cloneNode(!0);return a(m,()=>t.label),m}}),null),P(m=>{const h=i(),g=t.settings.transition===Se.fade;return h!==m._v$&&o.classList.toggle("mdc-tab--stacked",m._v$=h),g!==m._v$2&&_.classList.toggle("mdc-tab-indicator--fade",m._v$2=g),m},{_v$:void 0,_v$2:void 0}),o})()};const Ni=c('<div class="mdc-tab-bar" role="tablist"><div class="mdc-tab-scroller"><div class="mdc-tab-scroller__scroll-area"><div class="mdc-tab-scroller__scroll-content"></div></div></div></div>');let Se;(function(t){t[t.slide=0]="slide",t[t.fade=1]="fade"})(Se||(Se={}));let se;(function(t){t[t.label_with_top_icon=0]="label_with_top_icon",t[t.label_with_leading_icon=1]="label_with_leading_icon",t[t.only_label=2]="only_label",t[t.only_icon=3]="only_icon"})(se||(se={}));const ki={transition:Se.slide,tab_layout:se.only_label};class xi extends Yn{instantiateTabs(e){return[]}}function Si(t){var u,_;let e,n;const[i,r]=$([]),s=he(ki,(u=t.settings)!=null?u:{});j(()=>{n=new xi(e),M(()=>{n.tabList=i()}),M(()=>{t.getActive()<i().length&&n.activateTab(t.getActive())}),n.listen("MDCTabBar:activated",f=>{t.setActive(f.detail.index)})}),ie(()=>{n.destroy()});const o=(_=t.children)!=null?_:(f,m)=>l($i,{get index(){return m()},get label(){return f.label},get icon(){return f.icon},settings:s,createdTab:h=>r(g=>{const b=m();return[...g.slice(0,b),h,...g.slice(b+1)]})});return(()=>{const f=Ni.cloneNode(!0),m=f.firstChild,h=m.firstChild,g=h.firstChild,b=e;return typeof b=="function"?b(f):e=f,a(g,l(Y,{get each(){return t.tab_data},children:o})),f})()}const Ci=c("<div>Active: <!> - <button>add a tab</button> - <button>replace a tab</button> - <button>switch style</button> <br></div>"),Oi=()=>{const[t,e]=$(0),n=["settings","done","face","event","dashboard","lightbulb","help","build","code","bookmark"],i=()=>n[Math.floor(Math.random()*10)],[r,s]=ut({tab_data:[{label:"Home",icon:"home"},{label:"Track",icon:"playlist_add"},{label:"Results",icon:"poll"},{label:"Search",icon:"search"}]}),[o,u]=ut({tab_layout:se.label_with_top_icon,transition:Se.slide});return(()=>{const _=Ci.cloneNode(!0),f=_.firstChild,m=f.nextSibling,h=m.nextSibling,g=h.nextSibling,b=g.nextSibling,p=b.nextSibling,C=p.nextSibling,A=C.nextSibling;return A.nextSibling.nextSibling,a(_,t,m),g.$$click=()=>s("tab_data",te=>{const V=i();return[...te,{label:V,icon:V}]}),p.$$click=()=>s("tab_data",2,["label","icon"],i()),A.$$click=()=>u("tab_layout",(o.tab_layout+1)%4),a(_,l(Si,{get tab_data(){return r.tab_data},getActive:t,setActive:e,settings:o}),null),_})()};W(["click"]);function vt(t){const e=rn.attachTo(t);return ie(()=>{e.destroy()}),e}const Di=c('<button class="solid-mdc-bottom-navigation-item"><span class="solid-mdc-bottom-navigation-item__content"><span><span class="material-icons solid-mdc-bottom-navigation-icon" aria-hidden="true"></span></span><span class="solid-mdc-bottom-navigation-label"></span></span></button>'),Ai=c('<div class="solid-mdc-bottom-navigation"></div>');function dn(t){const e=i=>{let r;return j(()=>{vt(r)}),(()=>{const s=Di.cloneNode(!0),o=s.firstChild,u=o.firstChild,_=u.firstChild,f=u.nextSibling;re(s,"click",i.onClick,!0);const m=r;return typeof m=="function"?m(s):r=s,a(_,()=>i.item.icon),a(f,()=>i.item.label),P(()=>s.classList.toggle("solid-mdc-bottom-navigation-item--active",i.isActive)),s})()};let n;return j(()=>{}),(()=>{const i=Ai.cloneNode(!0),r=n;return typeof r=="function"?r(i):n=i,a(i,l(Y,{get each(){return t.nav_items},children:(s,o)=>l(e,{item:s,onClick:()=>t.setActive(o()),get isActive(){return t.getActive()===o()}})})),i})()}W(["click"]);const Ei=c("<div>Active: <!> - <button>add an item</button> - <button>replace an item</button></div>"),Ii=()=>{const[t,e]=$(0),n=["settings","done","face","event","dashboard","lightbulb","help","build","code","bookmark"],i=()=>n[Math.floor(Math.random()*10)],[r,s]=ut({items:[{label:"Home",icon:"home"},{label:"Track",icon:"playlist_add"},{label:"Results",icon:"poll"},{label:"Search",icon:"search"}]});return(()=>{const o=Ei.cloneNode(!0),u=o.firstChild,_=u.nextSibling,f=_.nextSibling,m=f.nextSibling,h=m.nextSibling,g=h.nextSibling;return a(o,t,_),m.$$click=()=>s("items",b=>{const p=i();return[...b,{label:p,icon:p}]}),g.$$click=()=>s("items",2,["label","icon"],i()),a(o,l(dn,{get nav_items(){return r.items},getActive:t,setActive:e}),null),o})()};W(["click"]);const qi=c('<ul class="mdc-deprecated-list"></ul>'),Mi=c('<span class="mdc-deprecated-list-item__ripple"></span>'),Li=c('<span class="mdc-deprecated-list-item__text"></span>'),Ti=c('<li class="mdc-deprecated-list-item"></li>'),Ri=c('<hr class="mdc-deprecated-list-divider" role="separator">'),ji=c('<h6 class="mdc-deprecated-list-group__subheader"></h6>'),yt=t=>{t=he({vertical:!1},t);let e,n;return j(()=>{n=Wn.attachTo(e),M(()=>{n.vertical=t.vertical})}),ie(()=>{n.destroy()}),(()=>{const i=qi.cloneNode(!0),r=e;return typeof r=="function"?r(i):e=i,a(i,()=>t.children),i})()},fe=t=>{t=he({ripple:!0},t);let e,n;return M(()=>{n==null||n.destroy(),t.ripple&&(n=rn.attachTo(e))}),ie(()=>{n==null||n.destroy()}),(()=>{const i=Ti.cloneNode(!0);re(i,"click",t.onClick,!0);const r=e;return typeof r=="function"?r(i):e=i,a(i,l(k,{get when(){return t.ripple},get children(){return Mi.cloneNode(!0)}}),null),a(i,l(k,{get when(){return typeof t.children=="string"},get fallback(){return t.children},get children(){const s=Li.cloneNode(!0);return a(s,()=>t.children),s}}),null),P(()=>{var s;return i.classList.toggle("mdc-deprecated-list-item--activated",(s=t.active)!=null?s:!1)}),i})()},Pi=()=>Ri.cloneNode(!0),Fi=t=>(()=>{const e=ji.cloneNode(!0);return a(e,()=>t.children),e})();W(["click"]);const zi=c("<div></div>"),Ki=()=>{const[t,e]=$(["foo","bar","quuz"]);return(()=>{const n=zi.cloneNode(!0);return a(n,l(yt,{get children(){return l(Y,{get each(){return t()},children:(i,r)=>l(fe,{children:i})})}})),n})()};const Ui=c('<h6 class="mdc-drawer__subtitle"></h6>'),Hi=c('<div class="mdc-drawer__header"><h3 class="mdc-drawer__title"></h3></div>'),Bi=c('<aside class="mdc-drawer"><div class="mdc-drawer__content"></div></aside>'),un=t=>(()=>{const e=Bi.cloneNode(!0),n=e.firstChild;return a(e,l(k,{get when(){return t.title},get children(){const i=Hi.cloneNode(!0),r=i.firstChild;return a(r,()=>t.title),a(i,l(k,{get when(){return t.subtitle},get children(){const s=Ui.cloneNode(!0);return a(s,()=>t.subtitle),s}}),null),i}}),n),a(n,()=>t.children),e})(),ze=c('<i class="material-icons mdc-deprecated-list-item__graphic" aria-hidden="true">drafts</i>'),Ke=c('<span class="mdc-deprecated-list-item__text">Drafts</span>'),Vi=()=>l(un,{title:"Test",subtitle:"Hello world!",get children(){return l(yt,{get children(){return[l(fe,{get children(){return[ze.cloneNode(!0),Ke.cloneNode(!0)]}}),l(fe,{get children(){return[ze.cloneNode(!0),Ke.cloneNode(!0)]}}),l(Pi,{}),l(Fi,{children:"Foobar"}),l(fe,{get children(){return[ze.cloneNode(!0),Ke.cloneNode(!0)]}}),l(fe,{get children(){return[ze.cloneNode(!0),Ke.cloneNode(!0)]}})]}})}});const Gi=c('<span class="mdc-button__ripple"></span>'),Qi=c('<i class="material-icons mdc-button__icon" aria-hidden="true"></i>'),Yi=c('<span class="mdc-button__label"></span>'),Wi=c("<button></button>");let z;(function(t){t[t.Raised=0]="Raised",t[t.Outlined=1]="Outlined",t[t.None=2]="None"})(z||(z={}));const me=t=>{t=he({style:z.None,disabled:!1,ripple:!0},t);let e;return j(()=>{t.ripple&&vt(e)}),(()=>{const n=Wi.cloneNode(!0);re(n,"click",t.onClick,!0);const i=e;return typeof i=="function"?i(n):e=n,a(n,l(k,{get when(){return t.ripple},get children(){return Gi.cloneNode(!0)}}),null),a(n,l(k,{get when(){return t.icon!==void 0},get children(){const r=Qi.cloneNode(!0);return a(r,()=>t.icon),r}}),null),a(n,l(k,{get when(){return typeof t.children=="string"},get fallback(){return t.children},get children(){const r=Yi.cloneNode(!0);return a(r,()=>t.children),r}}),null),P(r=>{const s=`mdc-button ${t.class}`,o=t.icon!==void 0,u=t.style===z.Outlined,_=t.style===z.Raised,f=t.disabled;return s!==r._v$&&(n.className=r._v$=s),o!==r._v$2&&n.classList.toggle("mdc-button--icon--leading",r._v$2=o),u!==r._v$3&&n.classList.toggle("mdc-button--outlined",r._v$3=u),_!==r._v$4&&n.classList.toggle("mdc-button--raised",r._v$4=_),f!==r._v$5&&(n.disabled=r._v$5=f),r},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0}),n})()};W(["click"]);const Xi=c("<div><p>Count is </p></div>"),Zi=()=>{const[t,e]=$(0),n=()=>e(i=>i+1);return(()=>{const i=Xi.cloneNode(!0),r=i.firstChild;return r.firstChild,a(r,t,null),a(i,l(me,{onClick:n,children:"Default"}),null),a(i,l(me,{onClick:n,get style(){return z.Outlined},children:"Outlined"}),null),a(i,l(me,{onClick:n,get style(){return z.Raised},children:"Raised"}),null),a(i,l(me,{onClick:n,get style(){return z.Outlined},icon:"star",children:"Outlined with an icon"}),null),a(i,l(me,{onClick:n,get style(){return z.Raised},icon:"star",disabled:!0,children:"Disabled, raised, with icon"}),null),i})()};const Ji=c('<i tabindex="0" role="button"></i>'),er=c("<i></i>"),_n=c('<span class="mdc-floating-label"></span>'),tr=c('<label><span class="mdc-notched-outline"><span class="mdc-notched-outline__leading"></span><span class="mdc-notched-outline__notch"></span><span class="mdc-notched-outline__trailing"></span></span><input type="text" class="mdc-text-field__input"></label>'),nr=c('<label><span class="mdc-text-field__ripple"></span><input class="mdc-text-field__input" type="text"><span class="mdc-line-ripple"></span></label>');let ge;(function(t){t[t.Outlined=0]="Outlined",t[t.Filled=1]="Filled"})(ge||(ge={}));const Ce=t=>{t=he({style:ge.Outlined,disabled:!1},t);let e,n;j(()=>{n=Xn.attachTo(e),M(()=>{var o;n.value=(o=t.children)!=null?o:""})}),ie(()=>{n.destroy()});const i=(o,u)=>u!==void 0?u.onClick!==void 0?(()=>{const _=Ji.cloneNode(!0);return re(_,"click",u.onClick,!0),_.className=`material-icons mdc-text-field__icon mdc-text-field__icon--${o}`,a(_,()=>u.icon),_})():(()=>{const _=er.cloneNode(!0);return _.className=`material-icons mdc-text-field__icon mdc-text-field__icon--${o}`,a(_,()=>u.icon),_})():[],r=()=>({"mdc-text-field--disabled":t.disabled,"mdc-text-field--with-leading-icon":t.leadingIcon!==void 0,"mdc-text-field--with-trailing-icon":t.trailingIcon!==void 0}),s=o=>{var u;o.key==="Enter"&&t.onEnter!==void 0&&((u=o.target)==null||u.blur(),t.onEnter())};return t.style===ge.Outlined?(()=>{const o=tr.cloneNode(!0),u=o.firstChild,_=u.firstChild,f=_.nextSibling,m=u.nextSibling,h=e;return typeof h=="function"?h(o):e=o,a(f,l(k,{get when(){return t.label},get children(){const g=_n.cloneNode(!0);return a(g,()=>t.label),g}})),a(o,()=>i("leading",t.leadingIcon),m),m.$$keyup=s,re(m,"input",t.onInput,!0),a(o,()=>i("trailing",t.trailingIcon),null),P(g=>{const b=`mdc-text-field mdc-text-field--outlined ${t.class}`,p=r();return b!==g._v$&&(o.className=g._v$=b),g._v$2=sn(o,p,g._v$2),g},{_v$:void 0,_v$2:void 0}),o})():(()=>{const o=nr.cloneNode(!0),u=o.firstChild,_=u.nextSibling,f=_.nextSibling,m=e;return typeof m=="function"?m(o):e=o,a(o,l(k,{get when(){return t.label},get children(){const h=_n.cloneNode(!0);return a(h,()=>t.label),h}}),_),a(o,()=>i("leading",t.leadingIcon),_),_.$$keyup=s,re(_,"input",t.onInput,!0),a(o,()=>i("trailing",t.trailingIcon),f),P(h=>{const g=`mdc-text-field ${t.class}`,b=r();return g!==h._v$3&&(o.className=h._v$3=g),h._v$4=sn(o,b,h._v$4),h},{_v$3:void 0,_v$4:void 0}),o})()};W(["click","input","keyup"]);const ir=c('<div>Text is <div style="display: flex; flex-direction: column; gap: 10px"></div></div>'),rr=()=>{const[t,e]=$("hello"),n=i=>e(i.target.value);return(()=>{const i=ir.cloneNode(!0),r=i.firstChild,s=r.nextSibling;return a(i,t,s),a(s,l(Ce,{onInput:n,get children(){return t()}}),null),a(s,l(Ce,{onInput:n,get style(){return ge.Filled},get children(){return t()}}),null),a(s,l(Ce,{onInput:n,label:"Hello",get children(){return t()}}),null),a(s,l(Ce,{onInput:n,get style(){return ge.Filled},label:"Hello",get children(){return t()}}),null),i})()};const sr=c('<div class="mdc-card__content"></div>'),or=c('<div class="mdc-card__primary-action" tabindex="0"><div class="mdc-card__content"></div><div class="mdc-card__ripple"></div></div>'),ar=c("<div></div>");let oe;(function(t){t[t.Elevated=0]="Elevated",t[t.Outlined=1]="Outlined"})(oe||(oe={}));const be=t=>{let e,n;j(()=>{var r;((r=t.actionable)!=null?r:!1)&&vt(n)});let i;return t.actionable?i=(()=>{const r=or.cloneNode(!0),s=r.firstChild,o=n;return typeof o=="function"?o(r):n=r,a(s,()=>t.children),r})():i=(()=>{const r=sr.cloneNode(!0);return a(r,()=>t.children),r})(),(()=>{const r=ar.cloneNode(!0);re(r,"click",t.onClick,!0);const s=e;return typeof s=="function"?s(r):e=r,a(r,i),P(o=>{const u=`mdc-card ${t.class}`,_=t.style===oe.Outlined;return u!==o._v$&&(r.className=o._v$=u),_!==o._v$2&&r.classList.toggle("mdc-card--outlined",o._v$2=_),o},{_v$:void 0,_v$2:void 0}),r})()};W(["click"]);const lr=c("<div></div>"),cr=()=>(()=>{const t=lr.cloneNode(!0);return a(t,l(be,{children:"Default"}),null),a(t,l(be,{get style(){return oe.Outlined},children:"Outlined"}),null),a(t,l(be,{actionable:!0,children:"Default actionable"}),null),a(t,l(be,{get style(){return oe.Outlined},actionable:!0,children:"Outlined actionable"}),null),t})();const dr=c('<div class="mdc-dialog__actions"></div>'),ur=c('<div class="mdc-dialog"><div class="mdc-dialog__container"><div class="mdc-dialog__surface" role="alertdialog" aria-modal="true"><div class="mdc-dialog__content"></div></div></div><div class="mdc-dialog__scrim"></div></div>'),_r=c('<button type="button" class="mdc-button mdc-dialog__button"><div class="mdc-button__ripple"></div><span class="mdc-button__label"></span></button>');class hr{constructor(e,n){this.parent=e,this.options=n;const i=this;this.total_element=(()=>{const r=ur.cloneNode(!0),s=r.firstChild,o=s.firstChild,u=o.firstChild,_=i.root;return typeof _=="function"?_(r):i.root=r,a(u,()=>n.content),a(o,l(k,{get when(){return n.buttons!==void 0},get children(){const f=dr.cloneNode(!0);return a(f,()=>n.buttons),f}}),null),r})(),j(()=>{this.dialog=Zn.attachTo(this.root),this.dialog.listen("MDCDialog:closed",r=>{this.options.onClick(r.detail.action),this.parent.remove_overlay(this)})}),ie(()=>{this.dialog.destroy()})}open(){this.parent.add_overlay(this),this.dialog.open()}close(){this.dialog.close()}get_element(){return this.total_element}}const fr=(t,e)=>new hr(t,e),hn=t=>(()=>{const e=_r.cloneNode(!0),n=e.firstChild,i=n.nextSibling;return a(i,()=>t.children),P(()=>nn(e,"data-mdc-dialog-action",t.action)),e})();class mr{constructor(){tn(this,"overlays",new ht([]))}create(e,...n){return e(this,...n)}add_overlay(e){this.overlays.set(n=>[...n,e])}remove_overlay(e){this.overlays.set(n=>n.filter(i=>i!==e))}}const fn=Jn(),gr=t=>{const e=new mr;return l(fn.Provider,{value:e,get children(){return[on(()=>t.children),l(Y,{get each(){return e.overlays.get()},children:n=>n.get_element()})]}})},br=c("<p>Hello world</p>"),pr=c("<button>open dialog</button>"),vr=()=>{const t=ei(fn).create(fr,{content:br.cloneNode(!0),buttons:[l(hn,{action:"foo",children:"Foo"}),l(hn,{action:"bar",children:"Bar"})],onClick:e=>{console.log("Clicked",e)}});return(()=>{const e=pr.cloneNode(!0);return e.$$click=()=>{t.open()},e})()};W(["click"]);const yr=c("<h1>Demos!</h1>"),wr=c("<h2>Dialog demo</h2>"),$r=c("<h2>Tabbar demo</h2>"),Nr=c("<h2>BottomNavigation demo</h2>"),kr=c("<h2>List demo</h2>"),xr=c("<h2>NavigationDrawer demo</h2>"),Sr=c("<h2>Button demo</h2>"),Cr=c("<h2>Textfield demo</h2>"),Or=c("<h2>Typography demo</h2>"),Dr=c('<div style="padding: 20px; border: 2px solid black"><h1>Header one THE QUICK BROWN FOX JUMPED </h1><h2>Header two</h2><h3>Header three</h3><h4>Header four</h4><h5>Header five</h5><h6>Header six</h6><p>Body 1 -- Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet. </p><p>Body 2 -- Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet. </p></div>'),Ar=c("<h2>Card demo</h2>"),Er=()=>[yr.cloneNode(!0),wr.cloneNode(!0),l(vr,{}),$r.cloneNode(!0),l(Oi,{}),Nr.cloneNode(!0),l(Ii,{}),kr.cloneNode(!0),l(Ki,{}),xr.cloneNode(!0),l(Vi,{}),Sr.cloneNode(!0),l(Zi,{}),Cr.cloneNode(!0),l(rr,{}),Or.cloneNode(!0),Dr.cloneNode(!0),Ar.cloneNode(!0),l(cr,{})],Ir=c('<div class="page"><h1>Results</h1></div>'),qr=()=>Ir.cloneNode(!0);class Ue{constructor(e){this.codename=e}get_definition(e){let n;return this.codename!==void 0&&(n=e.get_definition(this.codename)),new wt(n)}}class wt{constructor(e){this.definition=e}verify_value(e,n){return n.check(e instanceof H&&e.type_id instanceof E&&typeof e.uuid=="string",`not a valid UnivocalKey (got ${e})`)}}class K{constructor(e=[]){this.type_ids=e}get_definition(e){var n;const i=[];for(const r of(n=this.type_ids)!==null&&n!==void 0?n:[])i.push(e.get_definition_by_type_id(r).ctor);return new $t(i)}}class $t{constructor(e){this.classes=e}verify_value(e,n){return n.check(this.classes.length===0||this.classes.some(i=>e instanceof i),`wrong type, expected any of ${this.classes} but got ${Object.getPrototypeOf(e)}`)}}class mn{get_definition(e){return new Nt}}class Nt{verify_value(e,n){return n.check(e instanceof E,"not a valid TypeId")}}class gn{get_definition(e){return this}}class d extends gn{constructor(e){super();this.typeof_name=e}verify_value(e,n){return n.check(typeof e===this.typeof_name,`Expected ${this.typeof_name} but got ${typeof e}`)}}class He extends gn{verify_value(e,n){return n.check(e instanceof Date,"Expected Date")}}class Be{constructor(e){this.keys=e}at_key(e){return new Be([...this.keys,e.toString()])}up(){return new Be(this.keys.slice(0,-1))}check(e,n){return e?U.OK:new U([new Mr(this,n)])}}class Mr{constructor(e,n){this.context=e,this.msg=n}toString(){const e=this.context.keys.join(".");return this.msg===void 0?`problem at ${e}`:`${e}: ${this.msg}`}}class Lr extends Error{constructor(e){super(`Data could not pass verification: ${e.map(n=>n.toString()).join(", ")}`);this.problems=e}}class U{constructor(e){this.problems=e}assert_ok(){if(this.problems.length>0)throw new Lr(this.problems)}is_ok(){return this.problems.length===0}and_also(...e){return new U(this.problems.concat(...e.map(n=>n.problems)))}}U.OK=new U([]);function Tr(t,e){const n=new Be([]);t.verify_value(e,n).assert_ok()}class bn{constructor(e,n){this.ctor=e,this.type_id=n}}class kt extends bn{constructor(){super(...arguments);this.fields=new Map}verify_value(e,n){return U.OK.and_also(...[...this.fields].map(([i,r])=>r.verify_value(e[i],n.at_key(i))))}}class xt extends bn{verify_value(e,n){return U.OK}}const pn="__type_id";function Rr(t,e){t[pn]=e}function St(t){typeof t=="object"&&(t=Object.getPrototypeOf(t).constructor);const e=t[pn];if(e===void 0||!(e instanceof E))throw new Error(`Couldn't find a valid TypeId on ${t}`);return e}class vn{constructor(e,n){this.ctor=e,this.declaration=n}get_preliminary_definition(e){return new kt(this.ctor,e)}process_definition(e,n){if(this.declaration===void 0)throw new Error(`RawModelDefinitionEntry for ${e.type_id} was not completed yet!`);const i=this.declaration;for(const[r,s]of Object.entries(i.fields)){const o=s.get_definition(n);e.fields.set(r,o)}}}class jr{constructor(e){this.ctor=e}get_preliminary_definition(e){return new xt(this.ctor,e)}process_definition(e,n){}}class yn{constructor(e){this.registry_name=e,this.raw_definitions=new Map}register_model(e,n){return i=>{const r=n===void 0?void 0:{...n,type_name:e};return this.add_raw_definition(e,new vn(i,r)),i}}register_keyvalue(e){return n=>(this.add_raw_definition(e,new jr(n)),n)}add_raw_definition(e,n){if(this.raw_definitions.has(e))throw new Error(`Registry already has key ${e}`);this.raw_definitions.set(e,n),Rr(n.ctor,new E(this.registry_name,e))}process_config(e){const n=new Map;for(const s of e.models)n.set(s.type_name,s);const i=new Set(n.keys()),r=new Set(this.raw_definitions.keys());ri(i,"config file",r,"registry");for(const[s,o]of n.entries()){const u=this.raw_definitions.get(s);if(!(u instanceof vn))throw new Error("Can only configure a ModelDefinition");u.declaration=o}}}const N=new yn("_uv"),Pr="modulepreload",wn={},Fr="/",zr=function(e,n){return!n||n.length===0?e():Promise.all(n.map(i=>{if(i=`${Fr}${i}`,i in wn)return;wn[i]=!0;const r=i.endsWith(".css"),s=r?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${s}`))return;const o=document.createElement("link");if(o.rel=r?"stylesheet":Pr,r||(o.as="script",o.crossOrigin=""),o.href=i,document.head.appendChild(o),r)return new Promise((u,_)=>{o.addEventListener("load",u),o.addEventListener("error",_)})})).then(()=>e())};let Ct;try{Ct=new Crypto}catch(t){zr(()=>import("./__vite-browser-external.02f82a3b.js"),[]).then(e=>{Ct=e.webcrypto})}function Kr(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,t=>(t^Ct.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16))}var Ot;class pe{am_i_a_model(){return!0}}class Z extends pe{set_key(e){return this.key=new H(St(this),e!=null?e:Kr()),this}with_key(){return F(this.key!==void 0,"Key is required"),this}}class E{constructor(e,n){this.registry_name=e,this.type_name=n}toString(){return`${this.registry_name}/${this.type_name}`}static fromString(e){const n=e.split("/");return F(n.length===2),new E(n[0],n[1])}_assert_type(e){}}let H=Ot=class extends pe{constructor(e,n){super();this.type_id=e,this.uuid=n}toString(){return`${this.type_id}:${this.uuid}`}static fromString(e){const n=e.split(":");return F(n.length===2),new Ot(E.fromString(n[0]),n[1])}};H=Ot=w([N.register_model("key",{fields:{type_id:new mn,uuid:new d("string")}}),D("design:paramtypes",[E,String])],H);function Ve(t){class e{constructor(i){this.sub_raw_definition=i}get_definition(i){return new t(this.sub_raw_definition.get_definition(i))}}return e}class Dt{constructor(e){this.sub_definition=e}verify_value(e,n){return n.check(Array.isArray(e),"not an array").and_also(...e.map((r,s)=>this.sub_definition.verify_value(r,n.at_key(s))))}}const Ge=Ve(Dt);class At{constructor(e){this.sub_definition=e}verify_value(e,n){return n.check(typeof e=="object"&&e!==null,"not an object").and_also(...Object.entries(e).map(([r,s])=>this.sub_definition.verify_value(s,n.at_key(r))))}}const Ur=Ve(At);class Et{constructor(e){this.sub_definition=e}verify_value(e,n){return e===null?U.OK:this.sub_definition.verify_value(e,n)}}const Oe=Ve(Et);class It{constructor(e){this.sub_definition=e}verify_value(e,n){return e===void 0?U.OK:this.sub_definition.verify_value(e,n)}}const qt=Ve(It),De=new yn("quanteco");let L=class extends Z{constructor(e,n,i,r,s,o,u,_,f,m){super();this.full_name=e,this.group=n,this.main_group_element=i,this.cooking=r,this.salt=s,this.form=o,this.changed_fat_carb=u,this.condiment=_,this.category=f,this.nutrition_info=m}};L=w([De.register_model("fooditem",{fields:{full_name:new Oe(new d("string")),group:new d("string"),main_group_element:new d("boolean"),cooking:new Oe(new d("string")),salt:new Oe(new d("string")),changed_fat_carb:new Oe(new d("string")),condiment:new Oe(new d("string")),category:new d("string"),nutrition_info:new Ue("quanteco/nutritioninfo")}}),D("design:paramtypes",[String,String,Boolean,Object,Object,Object,Object,Object,String,H])],L);class I{constructor(e,n,i=!1){this.getter=e,this.percentile_values=n,this.is_high_better=i}get_percentile(e){for(let n=0;n<this.percentile_values.length-1;n++)if(e<=this.percentile_values[n+1])return n;return this.percentile_values.length-1}get_qualitative_desc(e){return I.qualitative_desc[this.get_goodness(e)]}get_quantitative_desc(e){return I.quantitative_desc[this.get_percentile(this.getter(e))]}get_goodness(e){const n=this.getter(e);let i=this.get_percentile(n);return this.is_high_better||(i=this.percentile_values.length-2-i),i}}I.qualitative_desc=["very bad","bad","average","good","very good"];I.quantitative_desc=["very low","low","average","high","very high"];I.colors=["red","lightred","black","lightgreen","green"];let Qe=class extends Z{constructor(e,n,i,r,s,o,u,_,f,m,h,g,b,p,C,A,ee,te,V,O,ke,q,ne,xe,ue,_e,Me,rt,Le,st,Te,ot,Re,at,lt,ct,je,dt,y,Rn,jn,Pn,Fn,zn,Kn,Un){super();this.energy=e,this.protein=n,this.carbohydrate=i,this.sugars_total=r,this.fiber_total_dietary=s,this.fat_total=o,this.fat_saturated_total=u,this.fat_mono_unsaturated_total=_,this.fat_poly_unsaturated_total=f,this.cholesterol=m,this.retinol=h,this.vitamin_a=g,this.carotene_alpha=b,this.carotene_beta=p,this.cryptoxanthin_beta=C,this.lycopene=A,this.lutein_zeaxanthin=ee,this.thiamin=te,this.riboflavin=V,this.niacin=O,this.vitamin_b6=ke,this.folic_acid=q,this.folate_food=ne,this.folate_dfe=xe,this.folate_total=ue,this.choline_total=_e,this.vitamin_b12=Me,this.vitamin_b12_added=rt,this.vitamin_c=Le,this.vitamin_d=st,this.vitamin_e=Te,this.vitamin_e_added=ot,this.vitamin_k=Re,this.calcium=at,this.phosphorus=lt,this.magnesium=ct,this.iron=je,this.zinc=dt,this.copper=y,this.selenium=Rn,this.potassium=jn,this.sodium=Pn,this.caffeine=Fn,this.theobromine=zn,this.alcohol=Kn,this.water=Un}};Qe=w([De.register_model("nutritioninfo",{fields:{energy:new d("number"),protein:new d("number"),carbohydrate:new d("number"),sugars_total:new d("number"),fiber_total_dietary:new d("number"),fat_total:new d("number"),fat_saturated_total:new d("number"),fat_mono_unsaturated_total:new d("number"),fat_poly_unsaturated_total:new d("number"),cholesterol:new d("number"),retinol:new d("number"),vitamin_a:new d("number"),carotene_alpha:new d("number"),carotene_beta:new d("number"),cryptoxanthin_beta:new d("number"),lycopene:new d("number"),lutein_zeaxanthin:new d("number"),thiamin:new d("number"),riboflavin:new d("number"),niacin:new d("number"),vitamin_b6:new d("number"),folic_acid:new d("number"),folate_food:new d("number"),folate_dfe:new d("number"),folate_total:new d("number"),choline_total:new d("number"),vitamin_b12:new d("number"),vitamin_b12_added:new d("number"),vitamin_c:new d("number"),vitamin_d:new d("number"),vitamin_e:new d("number"),vitamin_e_added:new d("number"),vitamin_k:new d("number"),calcium:new d("number"),phosphorus:new d("number"),magnesium:new d("number"),iron:new d("number"),zinc:new d("number"),copper:new d("number"),selenium:new d("number"),potassium:new d("number"),sodium:new d("number"),caffeine:new d("number"),theobromine:new d("number"),alcohol:new d("number"),water:new d("number")}}),D("design:paramtypes",[Number,Number,Number,Number,Number,Number,Number,Number,Number,Number,Number,Number,Number,Number,Number,Number,Number,Number,Number,Number,Number,Number,Number,Number,Number,Number,Number,Number,Number,Number,Number,Number,Number,Number,Number,Number,Number,Number,Number,Number,Number,Number,Number,Number,Number,Number])],Qe);const $n=new I(t=>t.energy,[0,100,200,300,400,999999]);let B=class extends Z{constructor(e,n,i){super();this.food_item=e,this.country=n,this.eco_info=i}};B=w([De.register_model("fooditem_to_ecoinfo",{fields:{food_item:new Ue("quanteco/fooditem"),country:new d("string"),eco_info:new Ue("quanteco/ecoinfo")}}),D("design:paramtypes",[H,String,H])],B);let ae=class extends Z{constructor(e,n,i,r,s,o,u,_,f,m,h,g,b,p){super();this.source_land_use=e,this.source_total_ghg=n,this.source_acidification=i,this.source_eutrophication=r,this.source_freshwater_withdrawal=s,this.source_water_scarcity=o,this.m_land_use=u,this.m_total_ghg=_,this.m_transport_ghg=f,this.m_production_ghg=m,this.m_acidification=h,this.m_eutrophication=g,this.m_freshwater_withdrawal=b,this.m_water_scarcity=p}};ae=w([De.register_model("ecoinfo",{fields:{source_land_use:new d("number"),source_total_ghg:new d("number"),source_acidification:new d("number"),source_eutrophication:new d("number"),source_freshwater_withdrawal:new d("number"),source_water_scarcity:new d("number"),m_land_use:new d("number"),m_total_ghg:new d("number"),m_transport_ghg:new d("number"),m_production_ghg:new d("number"),m_acidification:new d("number"),m_eutrophication:new d("number"),m_freshwater_withdrawal:new d("number"),m_water_scarcity:new d("number")}}),D("design:paramtypes",[Number,Number,Number,Number,Number,Number,Number,Number,Number,Number,Number,Number,Number,Number])],ae);const le={ghg:new I(t=>t.m_total_ghg,[0,.954413616,2.643216392,7.061577761,17.52811449,898.3010506]),transport_ghg:new I(t=>t.m_transport_ghg,[0,.043143526,.072114059,.096861735,.131260675,6.591936093]),land_use:new I(t=>t.m_land_use,[0,1.569598643,4.191626257,8.964253686,19.41995692,980.4341748]),acidification:new I(t=>t.m_acidification,[0,.004603901,.012733705,.049282731,.10814435,3.425280157]),eutrophication:new I(t=>t.m_eutrophication,[0,.001963812,.007867544,.026935206,.064457019,9.125466032]),freshwater_withdrawal:new I(t=>t.m_freshwater_withdrawal,[0,86.09847764,207.5737335,587.7417758,1516.281689,533618.992]),water_scarcity:new I(t=>t.m_water_scarcity,[0,2449.628718,7754.905617,16540.93375,45950.32523,9597288106e-3])};function Hr(t){const e=new Set,n=[];for(const i of t)e.has(i)?n.push(i):e.add(i);if(n.length===0)return e;throw new Error(`Array contained duplicates: ${n}`)}class Mt{constructor(e){this.definitions_by_type_id=new Map,this.definitions_by_ctor=new Map;for(const n of e)this.definitions_by_type_id.set(n.type_id.toString(),n),this.definitions_by_ctor.set(n.ctor,n)}get_definition(e){return typeof e=="string"?this.get_definition_by_type_id(E.fromString(e)):e instanceof pe?this.get_definition_by_ctor(Object.getPrototypeOf(e)):this.get_definition_by_ctor(e)}get_definition_by_type_id(e){const n=typeof e=="string"?e:e.toString(),i=this.definitions_by_type_id.get(n);if(i===void 0)throw Error(`Couldn't find definition with type ID ${e}`);return i}get_definition_by_ctor(e){const n=this.definitions_by_ctor.get(e);if(n===void 0)throw Error(`Couldn't find definition with constructor ${e}`);return n}get_type_id_by_ctor(e){return this.get_definition_by_ctor(e).type_id}static compile(...e){return this.compile_without_builtins(N,...e)}static compile_without_builtins(...e){const n=[],i=[];Hr(e.map(s=>s.registry_name));for(const s of e)for(const[o,u]of s.raw_definitions.entries()){const _=new E(s.registry_name,o),f=u.get_preliminary_definition(_);n.push(f),i.push(u)}const r=new Mt(n);for(const[s,o]of ln(n,i))o.process_definition(s,r);return r}}function Br(t){try{return t.toString()}catch(e){try{return`<object of type ${Object.getPrototypeOf(t).name}>`}catch(n){return"<unknown>"}}}function Vr(t){return t.charAt(0).toLocaleUpperCase()+t.slice(1)}class Nn{constructor(){this.methods=[],this.builtins=new Map}add(e,n){const i=n;e==="fallback"?this.fallback=i:typeof e=="string"?this.builtins.set(e,i):this.methods.unshift({cls:e,func:i})}call(e,...n){if(typeof e!="object"){const i=this.builtins.get(typeof e);if(i!==void 0)return i(e,...n)}else for(const i of this.methods)if(e instanceof i.cls)return i.func(e,...n);if(this.fallback!==void 0)return this.fallback(e,...n);throw new Error(`No suitable method found for ${Br(e)} among ${this.methods.length+this.builtins.size} definitions`)}}function kn(t,e){return Object.setPrototypeOf(t,e),t}function xn(t){return[...t].reduce((e,[n,i])=>(e[n]=i,e),{})}const Lt="",Tt="__uuid";class Gr{constructor(e){this.registry=e}serialize(e){if(e instanceof pe){const n=this.registry.get_definition_by_ctor(Object.getPrototypeOf(e).constructor),i=x.call(n,e,this);return i instanceof Object&&(i[Lt]=n.type_id.toString()),i}else return Array.isArray(e)?e.map(n=>this.serialize(n)):e}extract_definition(e){if(e instanceof Object){const n=e[Lt];if(n!==void 0){const i=E.fromString(n);return this.registry.get_definition_by_type_id(i)}}}deserialize(e){const n=this.extract_definition(e);if(n!==void 0){const i=S.call(n,e,this);return Tr(n,i),i}else return Array.isArray(e)?e.map(i=>this.deserialize(i)):e}}const x=new Nn,S=new Nn;x.add(kt,(t,e,n)=>{if(t.fields===void 0)throw Error("fields is not yet set");let i={};for(const[r,s]of t.fields){const o=x.call(s,e[r],n);o!==void 0&&(i[r]=o)}return e.key&&(i[Tt]=e.key.uuid),i});S.add(kt,(t,e,n)=>{if(F(typeof e=="object"&&!Array.isArray(e)&&e!==null),t.fields===void 0)throw Error("fields is not yet set");const i={};for(const[r,s]of t.fields)i[r]=S.call(s,e[r],n);return e[Tt]&&(i.key=new H(t.type_id,e[Tt])),kn(i,t.ctor.prototype)});x.add(xt,(t,e,n)=>{const i={};for(const[r,s]of Object.entries(e))i[r]=n.serialize(s);return i});S.add(xt,(t,e,n)=>{const i={};F(typeof e=="object");for(const[r,s]of Object.entries(e))r!==Lt&&(i[r]=n.deserialize(s));return kn(i,t.ctor.prototype)});x.add(d,(t,e,n)=>(F(typeof e===t.typeof_name,`expected type ${t.typeof_name}, got ${typeof e}`),e));S.add(d,(t,e,n)=>(F(typeof e===t.typeof_name,`expected type ${t.typeof_name}, got ${typeof e}`),e));x.add($t,(t,e,n)=>n.serialize(e));S.add($t,(t,e,n)=>n.deserialize(e));x.add(Nt,(t,e,n)=>e.toString());S.add(Nt,(t,e,n)=>E.fromString(e));x.add(wt,(t,e,n)=>e.toString());S.add(wt,(t,e,n)=>H.fromString(e));x.add(Dt,(t,e,n)=>e.map(i=>x.call(t.sub_definition,i,n)));S.add(Dt,(t,e,n)=>e.map(i=>S.call(t.sub_definition,i,n)));x.add(At,(t,e,n)=>xn(Object.entries(e).map(([i,r])=>[i,x.call(t.sub_definition,r,n)])));S.add(At,(t,e,n)=>xn(Object.entries(e).map(([i,r])=>[i,S.call(t.sub_definition,r,n)])));x.add(He,(t,e,n)=>e.valueOf());S.add(He,(t,e,n)=>new Date(e));x.add(Et,(t,e,n)=>e===null?null:x.call(t.sub_definition,e,n));S.add(Et,(t,e,n)=>e===null?null:S.call(t.sub_definition,e,n));x.add(It,(t,e,n)=>e===void 0?void 0:x.call(t.sub_definition,e,n));S.add(It,(t,e,n)=>e===void 0?void 0:S.call(t.sub_definition,e,n));let Ae=class extends Z{constructor(e,n){super();if(this.keys=e,this.no_earlier_than=n,this.mutating=!1,e.length>0){const i=e[0];F(e.every(r=>r.type_id.toString()===i.type_id.toString()),"Keys do not have the same type")}}};Ae=w([N.register_model("GetKeys",{fields:{keys:new Ge(new Ue),no_earlier_than:new He}}),D("design:paramtypes",[Array,Date])],Ae);function Qr(t){return t instanceof E?t:St(t)}const ve="MAIN";class T extends pe{__dont_ignore_expr_types(e){return{}}}let ye=class extends Z{constructor(e){var n,i;super();this.mutating=!1,this.select=Sn(e.from,e.select),this.from=e.from,this.where=(n=e.where)!==null&&n!==void 0?n:Cn,this.limit=e.limit,this.offset=e.offset,this.order_by=e.order_by,this.ascending=(i=e.ascending)!==null&&i!==void 0?i:!0}};ye=w([N.register_model("Query",{fields:{select:new Ge(new d("string")),from:new K,where:new K,limit:new qt(new d("number")),offset:new qt(new d("number")),order_by:new qt(new K),ascending:new d("boolean")}}),D("design:paramtypes",[Object])],ye);function Sn(t,e){if(e===void 0){if(ve in t.namespace)return[ve];throw new Error("Please specify a select clause")}else return e}class Ye extends T{constructor(e,n,i){super();this.lhs=e,this.op=n,this.rhs=i}}let Rt=class extends T{};Rt=w([N.register_keyvalue("True")],Rt);const Cn=new Rt;let jt=class extends T{};jt=w([N.register_keyvalue("False")],jt);new jt;var We;(function(t){t[t.And=0]="And",t[t.Or=1]="Or"})(We||(We={}));let Pt=class extends T{constructor(e,n){super();this.op=e,this.args=n}};Pt=w([N.register_keyvalue("Logic"),D("design:paramtypes",[Number,Object])],Pt);function On(t){return(...e)=>new Pt(t,e)}const Xe=On(We.And);On(We.Or);let Ft=class extends T{constructor(e){super();this.arg=e}};Ft=w([N.register_keyvalue("Not"),D("design:paramtypes",[T])],Ft);const Yr=t=>new Ft(t);let Dn=class extends Ye{};Dn=w([N.register_model("ArrayContains",{fields:{lhs:new K,rhs:new K}})],Dn);let Ze=class extends T{constructor(e){super();this.els=e}};Ze=w([N.register_model("UvArray",{fields:{els:new Ge(new K)}}),D("design:paramtypes",[Object])],Ze);var we;(function(t){t[t.LT=0]="LT",t[t.LTE=1]="LTE",t[t.GT=2]="GT",t[t.GTE=3]="GTE"})(we||(we={}));let zt=class extends Ye{};zt=w([N.register_keyvalue("Comparison")],zt);function Je(t){return(e,n)=>new zt(e,t,n)}Je(we.LT);Je(we.LTE);Je(we.GT);Je(we.GTE);var $e;(function(t){t[t.Equal=0]="Equal",t[t.NotEqual=1]="NotEqual",t[t.StrictEqual=2]="StrictEqual",t[t.StrictNotEqual=3]="StrictNotEqual"})($e||($e={}));let Kt=class extends Ye{};Kt=w([N.register_keyvalue("Equality")],Kt);function et(t){return(e,n)=>new Kt(e,t,n)}const G=et($e.Equal);et($e.NotEqual);et($e.StrictEqual);et($e.StrictNotEqual);let Ut=class extends Ye{};Ut=w([N.register_keyvalue("StringContains")],Ut);function Wr(t,e){return new Ut(t,"contains",e)}let Ee=class extends T{constructor(e,n){super();this.key=e,this.ns=n}};Ee=w([N.register_keyvalue("ModelField"),D("design:paramtypes",[Object,String])],Ee);function ce(t,e,n){return new Ee(n,e)}function Q(t,e){return new Ee(e,ve)}let Ht=class extends T{constructor(e){super();this.value=e}};Ht=w([N.register_keyvalue("Value"),D("design:paramtypes",[Object])],Ht);function Ne(t){return new Ht(t)}let Bt=class extends T{};Bt=w([N.register_keyvalue("NullKey")],Bt);new Bt;let Vt=class extends Z{constructor(e,n){super();this.cls=e,this.alias=n}get namespace(){return{[this.alias]:this.cls}}};Vt=w([N.register_model("FromModels",{fields:{cls:new mn,alias:new d("string")}}),D("design:paramtypes",[E,String])],Vt);function de(t,e){return new Vt(Qr(t),e!=null?e:ve)}var tt;(function(t){t[t.Inner=0]="Inner",t[t.LeftOuter=1]="LeftOuter",t[t.RightOuter=2]="RightOuter",t[t.FullOuter=3]="FullOuter"})(tt||(tt={}));let Gt=class extends Z{constructor(e,n,i,r=tt.Inner){super();this.lhs=e,this.rhs=n,this.condition=i,this.type=r}get namespace(){return{...this.lhs.namespace,...this.rhs.namespace}}};Gt=w([N.register_model("Join",{fields:{lhs:new K,rhs:new K,condition:new K,type:new d("number")}}),D("design:paramtypes",[Object,Object,T,Object])],Gt);function nt(t,e,n){return new Gt(t,e,n,tt.Inner)}let it=class extends pe{constructor(e,n){super();this.fetched_on=e,this.rows=n}get(e){return this.rows.map(n=>n[e])}static empty(){return new this(new Date,[])}};it=w([N.register_model("Result",{fields:{fetched_on:new He,rows:new Ge(new Ur(new K))}}),D("design:paramtypes",[Date,Array])],it);function Xr(t){const e=new Map;for(const n of t)e.set(n.key.toString(),n);return e}async function Zr(t,e){const n=new Date(Date.now()-99999999999999),i=(await t.perform(new Ae(e,n))).get(ve);return Xr(i)}async function An(t,e){return(await Zr(t,[e])).get(e.toString())}class Jr{constructor(e,n,i=!1){this.instance=e,this.fetched_on=n,this.outdated=i}}class es{constructor(e){this.operator=e,this.cache=new Map}async perform(e){if(e instanceof Ae){const i=e.keys.map(r=>this.cache.get(r.toString()));if(i.every(r=>r!==void 0&&e.no_earlier_than<r.fetched_on))return new it(ii(i.map(r=>r.fetched_on)),i.map(r=>({MAIN:r.instance})))}const n=await this.operator.perform(e);if(n instanceof it)for(const i of n.rows)Object.values(i).forEach(r=>this.insert_in_cache(r,n.fetched_on));return n}insert_in_cache(e,n){if(e.key===void 0)return!1;const i=e.key.toString(),r=this.cache.get(i);return r===void 0||r.fetched_on<n||r.outdated?(this.cache.set(i,new Jr(e,n)),!0):!1}get_from_cache(e){var n;return(n=this.cache.get(e.toString()))===null||n===void 0?void 0:n.instance}async check_types(){return await this.operator.check_types()}}function En(t){return t.replace(/[^A-Za-z0-9(){}[\].!~*#:,_-]+/g,encodeURIComponent).replace(/%22/g,"`")}function ts(t){return Object.entries(t).map(([e,n])=>`${En(e)}=${En(JSON.stringify(n))}`).join("&")}class ns{constructor(e,n){this.hostname=e,this.serde=n}async perform(e){F(e instanceof ye||e instanceof Ae);const n=this.serde.serialize(e),r=await(await fetch(this.get_url("/query",n),{mode:"cors"})).json();return console.log("RESULT",r),this.serde.deserialize(r)}async check_types(){}get_url(e,n){let i=new URL(e,this.hostname).href;return Object.keys(n).length>0&&(i+="?"+ts(n)),i}}const is={localhost:"http://192.168.1.101:8080/","staging.quanteco.org":"https://staging-backend.quanteco.org/"},rs=Mt.compile(De),ss=new Gr(rs);let Qt=is[window.location.hostname];Qt===void 0&&(console.error(`No backend found for hostname ${window.location.hostname}, falling back to localhost:8080`),Qt="http://localhost:8080/");const os=new ns(Qt,ss),Ie=new es(os);class as{constructor(e){var n,i,r;this.select=Sn(e.from,e.select),this.from=e.from,this.where=(n=e.where)!==null&&n!==void 0?n:Cn,this.order_by=e.order_by,this.ascending=(i=e.ascending)!==null&&i!==void 0?i:!0,this.default_prefetch=(r=e.default_prefetch)!==null&&r!==void 0?r:0}get(e){return new ls(this,e)}}class ls{constructor(e,n){this.paginated_querier=e,this.operator=n,this.all_rows=new Array,this.minimum_amount=0,this.maximum_amount=1/0;const i=e.select.map(r=>new Ee("key",r));this.options={select:e.select,from:this.paginated_querier.from,where:this.paginated_querier.where,order_by:this.paginated_querier.order_by===void 0?new Ze(i):new Ze([this.paginated_querier.order_by,...i]),ascending:this.paginated_querier.ascending}}async get(e,n,i){i=i!=null?i:this.paginated_querier.default_prefetch;const r=this.do_query(e,n);return i>0&&this.do_query(e+n,i),await r,this.all_rows.slice(e,e+n)}async do_query(e,n){const i=e+n-1;let r=e;for(;this.all_rows[r]!==void 0&&r<i;)r++;let s=i;for(;this.all_rows[s]!==void 0&&s>=r;)s--;const o=s-r+1;if(o>0){console.log(`Fetching ${r} until ${s} (${o} in total)`);const u=await this.operator.perform(new ye({...this.options,offset:r,limit:o}));let _=r;for(const f of u.rows)this.all_rows[_]=f,_++;this.minimum_amount=Math.max(this.minimum_amount,_),_<s&&(this.maximum_amount=_)}else console.log(`Already prefetched all from ${e} until ${i}`)}}const cs=c('<div class="page"><h1>Search</h1><div class="flex-row flex-center flex-gap page-root-item-margin"></div><div style="height: 1em"></div><p>All values per 100g. Ordered by lowest CO<sub>2</sub> first. Data and UI are still heavily being worked on!</p><div style="height: 2em"></div></div>'),ds=c("<p>No results.</p>"),us=c('<div class="qe-card__title"></div>'),_s=c('<div class="qe-card__subtitle"> kgCO<sub>2</sub>,&nbsp;<!> kcal</div>'),In="BEL",qn=10,Yt=new Map,hs=t=>{console.log("PROPS AT INIT",{...t});const e=()=>{const p=t.search_params.get().get("amount");return p!==null?(console.log("Setting amount",parseInt(p)),parseInt(p)):qn},n=t.search_params.get().get("name"),[i,r]=$(n),[s,o]=$(n),[u,_]=$(e()),[f,m]=$(),[h,g]=$([]);M(()=>{o(t.search_params.get().get("name")),_(e())}),M(()=>{if(s()){console.log("SEARCH PARAMS",t.search_params),t.search_params.set(new URLSearchParams({name:s(),amount:u().toString()}));let p;Yt.has(s())?p=Yt.get(s()):p=new as({select:[ve,"eco_info","nutrition"],from:nt(nt(nt(de(L),de(Qe,"nutrition"),G(Q(L,"nutrition_info"),ce(Qe,"nutrition","key"))),de(B,"food2eco"),Xe(G(ce(B,"food2eco","country"),Ne(In)),G(ce(B,"food2eco","food_item"),Q(L,"key")),G(Q(L,"main_group_element"),Ne(!0)))),de(ae,"eco_info"),G(ce(B,"food2eco","eco_info"),ce(ae,"eco_info","key"))),where:Xe(Wr(Q(L,"group"),Ne(s()))),order_by:ce(ae,"eco_info","m_total_ghg"),ascending:!0,default_prefetch:10}).get(Ie),Yt.set(s(),p),m(p)}else m(void 0)}),M(async()=>{if(f()===void 0)g([]);else{const p=await f().get(0,u());g(p)}});const b=()=>{o(i()),_(qn)};return(()=>{const p=cs.cloneNode(!0),C=p.firstChild,A=C.nextSibling,ee=A.nextSibling,te=ee.nextSibling,V=te.nextSibling;return a(A,l(Ce,{class:"flex-grow",onInput:O=>r(O.target.value),trailingIcon:{icon:"search",onClick:b},onEnter:b,get children(){var O;return(O=i())!=null?O:""}})),a(p,l(Y,{get each(){return h()},get fallback(){return ds.cloneNode(!0)},children:(O,ke)=>l(be,{class:"qe-card page-root-item-margin",get style(){return oe.Outlined},actionable:!0,onClick:()=>{qe.navigate_route(R.search[v.string],[O.MAIN.key.uuid])},get children(){return[(()=>{const q=us.cloneNode(!0);return a(q,()=>O.MAIN.group),q})(),(()=>{const q=_s.cloneNode(!0),ne=q.firstChild,xe=ne.nextSibling,ue=xe.nextSibling,_e=ue.nextSibling;return _e.nextSibling,a(q,()=>(O.eco_info.m_total_ghg/10).toFixed(3),ne),a(q,()=>O.nutrition.energy,_e),q})()]}})}),V),a(p,l(k,{get when(){return on(()=>f()!==void 0,!0)()&&h().length<f().maximum_amount},get children(){return l(me,{class:"page-root-item-margin",get style(){return z.Outlined},onClick:()=>_(O=>O+10),children:"Load More"})}}),null),p})()};function Wt(t,e){if(t>Math.pow(10,e)){const n=Math.ceil(Math.log10(t))-e;return(t/Math.pow(10,n)).toFixed()+"0".repeat(n)}else return t.toPrecision(e).replace(/(?:\.0+|(\.\d+?)0+)$/,"$1")}const fs=c('<h4 class="big-padding-vertical no-margin"></h4>'),ms=c('<div class="qe-section"></div>');c('<div class="qe-section"><div class="qe-expandable-section"><div style="max-height: 0; display: flex"></div></div></div>');const Xt=t=>(()=>{const e=fs.cloneNode(!0);return a(e,()=>t.children),e})(),Zt=t=>(()=>{const e=ms.cloneNode(!0);return a(e,l(k,{get when(){return t.title!==void 0},get children(){return l(Xt,{get children(){return t.title}})}}),null),a(e,()=>t.children,null),e})();const gs=c('<div class="qe-score"><span class="nowrap"><span class="qe-score--bigtext"></span><span class="qe-score--smalltext"></span></span></div>'),bs=[[230,0,0],[210,110,110],[128,128,128],[77,150,77],[0,190,0]],ps=[[255,0,0],[255,169,169],[128,128,128],[144,238,144],[0,128,0]],Jt=(t,e,n=!0)=>{const i=(n?bs:ps)[e];return console.log("goodness",e),`rgba(${i[0]}, ${i[1]}, ${i[2]}, ${t})`},Mn=t=>(()=>{const e=gs.cloneNode(!0),n=e.firstChild,i=n.firstChild,r=i.nextSibling;return a(i,()=>t.bigtext),a(r,()=>t.smalltext),P(s=>an(e,`background-color: ${Jt(.5,t.goodness)}; border-color: ${Jt(1,t.goodness)}`,s)),e})();const en=c("<sub>2</sub>"),vs=c("<sup>2</sup>"),ys=c("<sub>4</sub>"),ws=c('<div class="tiny-padding-vertical"><b></b> <!>: <b> </b></div>'),$s=c('<div class="flex-row small-padding-bottom"><div class="flex-grow"><div></div></div></div>'),Ns=c('<div class="flex-row small-padding-bottom"><div class="flex-grow"><div class="tiny-padding-vertical">Calories: <b> kcal</b></div><div class="tiny-padding-vertical">Total fat: <b> g</b></div><div class="tiny-padding-vertical">Carbs: <b> g</b></div><div class="tiny-padding-vertical">Protein: <b> g</b></div><div class="tiny-padding-vertical">Cholesterol: <b> mg</b></div><div class="tiny-padding-vertical">Dietary fiber: <b> g</b></div></div></div>'),ks=c('<div class="vertical-scroll-variants small-margin-bottom"></div>'),xs=c('<div class="page"><h1></h1><p>All values per 100g.</p></div>'),Ss=c("<p>Loading environmental info...</p>"),Cs=c("<p>Loading nutrition info...</p>"),Os=c("<p>Loading variants...</p>"),Ds=c("<p>No variants found.</p>"),As=c('<div class="qe-card__title"></div>'),Es=[{name:"greenhouse gas emissions",unit:["kgCO",en.cloneNode(!0)],gen:le.ghg},{name:"land use",unit:["m",vs.cloneNode(!0),"\xD7year"],gen:le.land_use},{name:"acidification",unit:["kgPO",ys.cloneNode(!0)],gen:le.acidification},{name:"eutrophication",unit:["kgSO",en.cloneNode(!0)],gen:le.eutrophication},{name:"water use",unit:"l",gen:le.freshwater_withdrawal}],Is=t=>(()=>{const e=ws.cloneNode(!0),n=e.firstChild,i=n.nextSibling,r=i.nextSibling,s=r.nextSibling,o=s.nextSibling,u=o.firstChild;return a(n,()=>Vr(t.fact.gen.get_quantitative_desc(t.eco_info))),a(e,()=>t.fact.name,r),a(o,()=>Wt(t.fact.gen.getter(t.eco_info)/10,2),u),a(o,()=>t.fact.unit,null),P(_=>an(n,`color: ${Jt(1,t.fact.gen.get_goodness(t.eco_info))}`,_)),e})(),qs=t=>{const e=t.path_params[0],n=new H(St(L),e),[i,r]=$(),[s,o]=$(),[u,_]=$(),[f,m]=$();return An(Ie,n).then(h=>{r(h),An(Ie,h==null?void 0:h.nutrition_info).then(g=>o(g))}),Ie.perform(new ye({select:["ecoinfo"],from:nt(de(B),de(ae,"ecoinfo"),G(Q(B,"eco_info"),ce(ae,"ecoinfo","key"))),where:Xe(G(Q(B,"food_item"),Ne(n)),G(Q(B,"country"),Ne(In))),limit:1})).then(h=>_(h.rows[0].ecoinfo)),M(()=>{i()!==void 0&&Ie.perform(new ye({from:de(L),where:Xe(G(Q(L,"group"),Ne(i().group)),Yr(Q(L,"main_group_element")))})).then(h=>{console.log(h),m(h.get("MAIN"))})}),(()=>{const h=xs.cloneNode(!0),g=h.firstChild;return g.nextSibling,a(g,()=>{var b;return(b=i())==null?void 0:b.full_name}),a(h,l(k,{get when(){return u()!==void 0},get fallback(){return Ss.cloneNode(!0)},get children(){return l(Zt,{get children(){const b=$s.cloneNode(!0),p=b.firstChild,C=p.firstChild;return a(p,l(Xt,{children:"Environment"}),C),a(C,l(Y,{get each(){return Object.values(Es)},children:A=>l(Is,{fact:A,get eco_info(){return u()}})})),a(b,l(Mn,{get bigtext(){var A;return Wt(((A=u())==null?void 0:A.m_total_ghg)/10,4)},get smalltext(){return["kgCO",en.cloneNode(!0)]},get subtext(){return le.ghg.get_quantitative_desc(u())},get goodness(){return le.ghg.get_goodness(u())}}),null),b}})}}),null),a(h,l(k,{get when(){return s()!==void 0},get fallback(){return Cs.cloneNode(!0)},get children(){return l(Zt,{get children(){const b=Ns.cloneNode(!0),p=b.firstChild,C=p.firstChild,A=C.firstChild,ee=A.nextSibling,te=ee.firstChild,V=C.nextSibling,O=V.firstChild,ke=O.nextSibling,q=ke.firstChild,ne=V.nextSibling,xe=ne.firstChild,ue=xe.nextSibling,_e=ue.firstChild,Me=ne.nextSibling,rt=Me.firstChild,Le=rt.nextSibling,st=Le.firstChild,Te=Me.nextSibling,ot=Te.firstChild,Re=ot.nextSibling,at=Re.firstChild,lt=Te.nextSibling,ct=lt.firstChild,je=ct.nextSibling,dt=je.firstChild;return a(p,l(Xt,{children:"Nutrition"}),C),a(ee,()=>{var y;return(y=s())==null?void 0:y.energy},te),a(ke,()=>{var y;return(y=s())==null?void 0:y.fat_total},q),a(ue,()=>{var y;return(y=s())==null?void 0:y.carbohydrate},_e),a(Le,()=>{var y;return(y=s())==null?void 0:y.protein},st),a(Re,()=>{var y;return(y=s())==null?void 0:y.cholesterol},at),a(je,()=>{var y;return(y=s())==null?void 0:y.fiber_total_dietary},dt),a(b,l(Mn,{get bigtext(){var y;return Wt((y=s())==null?void 0:y.energy,4)},get smalltext(){return"kcal"},get subtext(){return $n.get_quantitative_desc(s())},get goodness(){return $n.get_goodness(s())}}),null),b}})}}),null),a(h,l(Zt,{title:"Variants",get children(){return l(k,{get when(){return f()!==void 0},get fallback(){return Os.cloneNode(!0)},get children(){const b=ks.cloneNode(!0);return a(b,l(Y,{get each(){return f()},get fallback(){return Ds.cloneNode(!0)},children:p=>l(be,{class:"qe-card",get style(){return oe.Outlined},actionable:!0,onClick:()=>qe.navigate_route(R.search[v.string],[p.key.uuid]),get children(){const C=As.cloneNode(!0);return a(C,()=>p.full_name),C}})})),b}})}}),null),h})()},J=new ui,Ln={[v.not_found]:J.not_found_component(hi),home:v(J.component_switcher_without_params(mi)),track:v(J.component_switcher_without_params(bi)),results:v(J.component_switcher(qr,{get_props:(t,e)=>({bla:"foobar"})})),search:{[v.sentry]:v.tracker(),[v.index]:v(J.component_switcher(hs)),[v.string]:v(J.component_switcher(qs))},demos:v(J.component_switcher_without_params(Er))},Ms={[v.index]:v.redirect(Ln.search[v.index])},R={...Ln,...Ms},qe=new ci(R),Tn=[{route:R.home,active:R.home.is_active,icon:"home",label:"Home"},{route:R.track,active:R.track.is_active,icon:"playlist_add",label:"Track"},{route:R.results,active:R.results.is_active,icon:"poll",label:"Results"},{route:R.search[v.index],active:R.search[v.sentry].is_active,icon:"search",label:"Explore"}];const Ls=c('<i class="material-icons mdc-deprecated-list-item__graphic" aria-hidden="true"></i>'),Ts=c('<span class="mdc-deprecated-list-item__text"></span>'),Rs=t=>l(un,{title:"Foodprint",get children(){return l(yt,{get children(){return l(Y,{get each(){return t.menu},children:(e,n)=>l(fe,{onClick:()=>{e.active()||qe.navigate_route(e.route)},get active(){return e.active()},get children(){return[(()=>{const i=Ls.cloneNode(!0);return a(i,()=>e.icon),i})(),(()=>{const i=Ts.cloneNode(!0);return a(i,()=>e.label),i})()]}})})}})}}),js=t=>{const e=new ht(-1);for(const[i,r]of t.menu.entries())M(()=>{r.active()?e.set(i):e.set(s=>s===i?-1:s)});return l(dn,{get nav_items(){return t.menu},get getActive(){return e.getter},setActive:i=>{t.menu[i].active()||qe.navigate_route(t.menu[i].route)}})},Ps=c('<div class="mainwithmenu"><div class="desktopmenu"></div><main></main></div>'),Fs=c('<div class="mobilemenu"></div>'),zs=()=>[(()=>{const t=Ps.cloneNode(!0),e=t.firstChild,n=e.nextSibling;return a(e,l(Rs,{menu:Tn})),a(n,()=>J.get_frame()),t})(),(()=>{const t=Fs.cloneNode(!0);return a(t,l(js,{menu:Tn})),t})()];const Ks=()=>(j(()=>{qe.register_in_browser()}),l(gr,{get children(){return l(zs,{})}}));ti(()=>l(Ks,{}),document.getElementById("root"));
